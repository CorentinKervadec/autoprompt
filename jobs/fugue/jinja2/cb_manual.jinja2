{% for template in [
    '{hypothesis}?| [P] , {premise}',
    '"{hypothesis}"?| [P], "{premise}"',
    '{hypothesis}? </s> [P] , {premise}',
    '"{hypothesis}"? </s> [P] , "{premise}"',
] -%}
{% set template_idx = loop.index %}
{% for label_map in [
    '{"entailment": "yes", "contradiction": "no", "neutral": "maybe"}',
] -%}
{% set label_idx = loop.index %}
---
out: cb-manual_model_roberta-large_template_{{template_idx}}_initial-trigger_label-map_{{label_idx}}
script: autoprompt/continuous_trigger_mlm.py
args:
    - '--model-name'
    - 'roberta-large'
    - '--train'
    - 'data/SuperFUGUE/CB/train.jsonl'
    - '--dev'
    - 'data/SuperFUGUE/CB/dev.jsonl'
    - '--test'
    - 'data/SuperFUGUE/CB/dev_all.jsonl'
    - '--ckpt-dir'
    - 'ckpt/cb-manual_model_roberta-large_template_{{template_idx}}_initial-trigger_label-map_{{label_idx}}
    - '--evaluation-strategy'
    - 'classification'
    - '--finetune-mode'
    - 'trigger'
    - '--template'
    - '{{template}}'
    - '--label-map'
    - '{{label_map}}'
    - '--epochs'
    - '30'
    - '--bsz'
    - '2'
    - '--evaluation-metric'
    - 'F1'
    - '--quiet'
    - '--tmp'
    - '-f'
    - '--skip-train'
    - '--skip-eval'
...
{% endfor %}
{%- endfor %}
{# ================================ #}
{% for template in [
    '{hypothesis}?| [P] , {premise}',
    '"{hypothesis}"?| [P], "{premise}"',
    '{hypothesis}? </s> [P] , {premise}',
    '"{hypothesis}"? </s> [P] , "{premise}"',
] -%}
{% set template_idx = loop.index %}
{% for label_map in [
    '{"entailment": "yes", "contradiction": "no", "neutral": "maybe"}',
] -%}
{% set label_idx = loop.index %}
---
out: cb-manual_model_albert-xxlarge-v2_template_{{template_idx}}_initial-trigger_label-map_{{label_idx}}
script: autoprompt/continuous_trigger_mlm.py
args:
    - '--model-name'
    - 'albert-xxlarge-v2'
    - '--train'
    - 'data/SuperFUGUE/CB/train.jsonl'
    - '--dev'
    - 'data/SuperFUGUE/CB/dev.jsonl'
    - '--test'
    - 'data/SuperFUGUE/CB/dev_all.jsonl'
    - '--ckpt-dir'
    - 'ckpt/cb-manual_model_albert-xxlarge-v2_template_{{template_idx}}_initial-trigger_label-map_{{label_idx}}
    - '--evaluation-strategy'
    - 'classification'
    - '--finetune-mode'
    - 'trigger'
    - '--template'
    - '{{template}}'
    - '--label-map'
    - '{{label_map}}'
    - '--epochs'
    - '30'
    - '--bsz'
    - '2'
    - '--evaluation-metric'
    - 'F1'
    - '--quiet'
    - '--tmp'
    - '-f'
    - '--skip-train'
    - '--skip-eval'
...
{% endfor %}
{%- endfor %}
